$(document).ready((function(){function adjustIframeHeight(){const iframe=parent.document.getElementById("myframe");if(iframe){let lastHeight=0;setInterval((()=>{const newHeight=iframe.contentWindow.document.body.scrollHeight;newHeight!==lastHeight&&(iframe.style.height=newHeight+100+"px",lastHeight=newHeight)}),300)}}function adjustAnimatedClassHeight(){$(".field_holder.animated_box textarea").each((function(){let textarea=$(this),animatedClass=textarea.next(".animated_class");textarea.prop("scrollHeight");animatedClass.css("height","100px")}))}function moveLabelUp(label){let containerWidth=label.parent().outerWidth();label.data("original-html")||label.data("original-html",label.html());label.data("original-html").trim();const originalText=label.contents().filter((function(){return 3===this.nodeType})).text().trim(),maxLength=Math.floor(containerWidth/16*1.75);console.log("ContainerWidth:",containerWidth),console.log("CharWidth (constant):",16),console.log("MaxLength:",maxLength);let truncatedText=originalText;originalText.length>maxLength&&(truncatedText=originalText.substr(0,maxLength)+"…"),label.html(label.html().replace(originalText,truncatedText)),$(window).width()<=360?label.css({position:"unset",top:"-5px","font-size":"15px",color:"#495057"}):label.css({top:"-5px","font-size":"15px",color:"#495057"})}function moveLabelCenter(label,input){if(label.data("original-html")&&label.html(label.data("original-html")),input.is("textarea")){const textareaHeight=input.outerHeight(),labelHeight=label.outerHeight();labelTop=parseInt(input.css("padding-top"),10)+(textareaHeight-labelHeight)/2}else labelTop=input.outerHeight()-label.outerHeight();let labelLeft=parseInt(input.css("padding-left"),10);label.closest(".form_box .group").is(":first-child")||(labelLeft+=10),input.attr("placeholder",""),$(window).width()<=360?label.css({position:"absolute",top:labelTop+"px","font-size":"inherit",color:"inherit"}):label.css({top:labelTop+"px","font-size":"inherit",color:"inherit"})}function checkAndUpdateLabelPosition(){$(".group .form_label label").each((function(){let labelTop,label=$(this),input=label.closest(".group").find(".form_field");if(input.is("textarea")){const textareaHeight=input.outerHeight(),labelHeight=label.outerHeight();labelTop=parseInt(input.css("padding-top"),10)+(textareaHeight-labelHeight)/2}else labelTop=input.outerHeight()-label.outerHeight();if(input.attr("placeholder",input.data("original-placeholder")),$(window).width()<=500)label.css({position:"unset",top:"-5px","font-size":"15px",color:"#495057"});else{let labelLeft=parseInt(input.css("padding-left"),10);$(window).width()>780&&(label.closest(".form_box .group").is(":first-child")||(labelLeft+=10)),label.data("original-left",labelLeft),input.data("original-placeholder",input.attr("placeholder")),input.attr("placeholder",""),label.css({position:"absolute",left:labelLeft+"px",transform:"none","pointer-events":"none"}),input.is('textarea, input[type="text"]:not([readonly])')&&!input.is('input[type="radio"], select, input[type="text"][readonly]')?label.css({top:labelTop+"px",transition:"all 0.3s ease"}):label.css({left:"25px",top:"-5px","font-size":"15px",color:"#495057"})}}))}$(".rclose").on("click",(function(event){$(".group .form_label label").each((function(){let label=$(this);label.closest(".group").find(".form_field").is('input[type="radio"], select, input[type="text"][readonly]')||moveLabelUp(label)}))})),$(".disclaimer").click((function(event){if(!$(event.target).is('input[type="checkbox"]')){var checkbox=$(this).find('input[type="checkbox"]');checkbox.prop("checked",!checkbox.prop("checked")).trigger("change")}})),adjustIframeHeight(),window.addEventListener("resize",adjustIframeHeight),$(".clockpicker").clockpicker().find("input").change((function(){let input=$(this),label=input.closest(".group").find(".form_label label");""!==input.val().trim()?moveLabelUp(label):moveLabelCenter(label,input)})),$(".toggle-labels").click((function(){let labelState=$(this).data("labelState")||"down";$(".group .form_label label").each((function(){let label=$(this),input=label.closest(".group").find(".form_field");if(input.is('input[type="text"], textarea')&&!input.is('input[type="radio"], select, input[type="text"][readonly]'))if("down"===labelState){input.attr("placeholder",input.data("original-placeholder"));label.parent().outerWidth();moveLabelUp(label)}else input.data("original-placeholder",input.attr("placeholder")),input.attr("placeholder",""),moveLabelCenter(label,input)})),$(this).data("labelState","down"===labelState?"up":"down")})),$(".toggle-labels").click((function(){$(this).find("i").toggleClass("fa-eye-slash")})),adjustAnimatedClassHeight(),$(".field_holder.animated_box textarea").on("input focus",adjustAnimatedClassHeight),checkAndUpdateLabelPosition(),$(window).on("resize",checkAndUpdateLabelPosition),$(".phone-trigger").click((function(){let input=$(this).closest(".group").find(".form_field"),label=input.closest(".group").find(".form_label label");input.is('input[type="text"], textarea')&&moveLabelUp(label)})),$(".Date1, .Date").click((function(){let input=$(this).closest(".group").find(".form_field"),label=input.closest(".group").find(".form_label label");input.is('input[type="text"], textarea')&&moveLabelUp(label)})),$(".Date1").each((function(){let input=$(this);""!==input.val().trim()&&(input.datepicker("setDate",input.val()),input.trigger("onSelect",[input.val(),input.datepicker("getDate")]))})),$("#submitform").on("focus blur",".form_field",(function(){let input=$(this),label=input.closest(".group").find(".form_label label");if(input.is('input[type="text"], textarea'))if(input.is(":focus")||""!==input.val().trim())input.attr("placeholder",input.data("original-placeholder")),moveLabelUp(label);else if($(window).width()>=500&&(input.hasClass("Date1")||input.hasClass("Date")||input.hasClass("timepicked")||(moveLabelCenter(label,input),input.attr("placeholder","")),!label.closest(".form_box .group").is(":first-child"))){let originalLeft=label.data("original-left");label.css("left",originalLeft+"px")}})),$("body").append("<div class='load_holder'><div class='spinner'><div class='bounce1'></div><div class='bounce2'></div><div class='bounce3'></div></div>\t<p>Submitting Form...</p></div>"),$(".close").click((function(){$("#success").fadeOut(),$("#recaptcha-error").fadeOut()})),$(".rclose").click((function(){$("#recaptcha-error").fadeOut()})),$(".error-close").click((function(){$("#error-msg").fadeOut()})),$('input[type="radio"]').click((function(){$('input[type="radio"].error + label.error').remove()})),function(){var wskCheckboxes=[],SPACE_KEY=32;function animateCircle(checkboxElement){var circle=checkboxElement.parentNode.getElementsByClassName("wskCircle")[0],restore="";restore=circle.className.indexOf("flipColor")<0?circle.className+" flipColor":"wskCircle",circle.className=restore+" show",setTimeout((function(){circle.className=restore}),150)}function addEventHandler(elem,eventType,handler){elem.addEventListener?elem.addEventListener(eventType,handler,!1):elem.attachEvent&&elem.attachEvent("on"+eventType,handler)}let isHandlerRunning=!1;function clickHandler(e){if(!isHandlerRunning){e.stopPropagation(),isHandlerRunning=!0;var group=this.getAttribute("id").split("__")[0],maxChecked=getLimit(group),checkedCount=wskCheckboxes.reduce((function(count,item){return count+(item.checkbox.classList.contains("checked")&&item.id.startsWith(group)?1:0)}),0);this.classList.contains("checked")?this.classList.remove("checked"):checkedCount<maxChecked?this.classList.add("checked"):alert("You can only select up to "+maxChecked+" checkboxes."),animateCircle(this);var cbox=document.getElementById(this.getAttribute("id"));cbox&&(cbox.checked=this.classList.contains("checked")),setTimeout((()=>{isHandlerRunning=!1}),100)}}function keyHandler(e){e.stopPropagation(),e.keyCode===SPACE_KEY&&(e.preventDefault(),clickHandler.call(this,e))}function clickHandlerLabel(e){e.preventDefault();var id=this.getAttribute("for"),groupContainer=this.closest(".group"),maxChecked=groupContainer.hasAttribute("data-limit")?parseInt(groupContainer.getAttribute("data-limit"),10):1/0,checkboxWrapper=wskCheckboxes.find((item=>item.id===id));if(checkboxWrapper){var checkbox=checkboxWrapper.checkbox,isChecked=checkbox.classList.contains("checked"),checkedCount=Array.from(groupContainer.querySelectorAll(".wskCheckbox.checked")).length,actualCheckbox=document.getElementById(id);actualCheckbox?!isChecked&&checkedCount<maxChecked?(checkbox.classList.add("checked"),actualCheckbox.checked=!0,$(actualCheckbox).trigger("change"),animateCircle(checkbox)):isChecked?(checkbox.classList.remove("checked"),actualCheckbox.checked=!1,$(actualCheckbox).trigger("change"),animateCircle(checkbox)):!isChecked&&checkedCount>=maxChecked&&alert("You can only select up to "+maxChecked+" checkboxes."):console.error(`Actual checkbox for ${id} not found.`)}else console.error(`Checkbox with id ${id} not found.`)}return document.querySelectorAll(".wskCheckbox").forEach((function(checkbox){checkbox.addEventListener("click",clickHandler),checkbox.addEventListener("keydown",keyHandler)})),document.querySelectorAll("label.wskLabel").forEach((function(label){label.addEventListener("click",clickHandlerLabel)})),{init:function(){for(var labels=document.getElementsByTagName("label"),i=labels.length;i--;){var posCheckbox=document.getElementById(labels[i].getAttribute("for"));if(null!==posCheckbox&&"checkbox"===posCheckbox.type&&posCheckbox.className.indexOf("wskCheckbox")>=0){labels[i].innerText;var span=document.createElement("span");span.className="wskCheckbox",span.tabIndex=i;var span2=document.createElement("span");span2.className="wskCircle flipColor",labels[i].insertBefore(span2,labels[i].firstChild),labels[i].insertBefore(span,labels[i].firstChild),addEventHandler(span,"click",clickHandler),addEventHandler(span,"keyup",keyHandler),addEventHandler(labels[i],"click",clickHandlerLabel),null!==document.getElementById(labels[i].getAttribute("for")).getAttribute("checked")&&span.click(),wskCheckboxes.push({checkbox:span,id:labels[i].getAttribute("for")})}}}}}().init();$(".addMore").click((function(){let html=$(".cloneField").html();$(".addreferral").append(`<div class='clone_data' id='mainCloneCount_0'>${html}<a href='javascript:;' style=' background: #f95858;  top: 7px;     padding: 3px 5px; color: #fff; border-radius: 3px; position: relative; bottom: 0;' class='removeCls' onclick='removeHTML()'><i class='fas fa-minus-circle'></i> Remove</a><hr></div>`);let i=$(".addreferral .clone_data").length;$(".addreferral .clone_data:last").each((function(){$(this).attr("id","mainCloneCount_"+i),$(this).find(".referral_name input").attr("name","Name ("+i+")"),$(this).find(".referral_name input").attr("placeholder","Enter name here"),$(this).find(".referral_email input").attr("name","Email_Address_ ("+i+")").attr("id","Email_Address_"+i),$(this).find(".referral_email input").attr("placeholder","example@domain.com"),$(this).find(".referral_phone input").attr("name","Contact_Number ("+i+")").addClass("Contact_Number"),$(this).find(".referral_phone input").attr("placeholder","Enter number here"),$(this).find(".referral_count input").val(i),$(this).find(".removeCls").attr("onClick","removeHTML("+i+")"),checkAndUpdateLabelPosition($(this).find(".form_field"))})),$("#Email_Address_"+i).rules("add",{email:!0,messages:{email:""}}),$(".Phone").keypress((function(e){(8==e.which||null==e.which||0==e.which?null:String.fromCharCode(e.which).match(/[^0-9 -]/))&&e.preventDefault()}))})),$("#error-message").hide();function scaleCaptcha(elementWidth){var containerWidth=$(".form_box5").width();if(304>containerWidth){var captchaScale=containerWidth/304;$(".g-recaptcha").css({transform:"scale("+captchaScale+")"})}}$("#file").change((function(){var ul_file=$(this).val(),extension=ul_file.substr(ul_file.lastIndexOf(".")+1);extension=extension.toLowerCase(),fileSize=this.files[0].size,""!==$(this).val()?fileSize>10485760?($(".suberror").text("File size exceeds maximum limit: 10 MB"),$("#error-message").slideDown(),$(".js-labelFile").addClass("uploaderror"),$(".js-fileName").css({color:"#5c5c5c"}),$("#file").val("")):-1!==$.inArray(extension,["pdf","docx","doc"])?($(".js-labelFile").removeClass("uploaderror"),$("#error-message").hide()):($(".suberror").html('File type is not allowed. You can only upload <span style="left: 0; bottom: 0;  font-style:italic; color: unset; font-size: unset;">doc, docx, pdf</span> files.'),$("#error-message").slideDown(),$(".js-labelFile").addClass("uploaderror"),$(".js-fileName").css({color:"#5c5c5c"}),$("#file").val("")):($(".btn-tertiary").css({"box-shadow":"0 7px 10px rgba(182,182,182,.05) !important"}),$("#error-message").hide())})),function(){"use strict";$(".input-file").each((function(){var $input=$(this),$label=$input.next(".js-labelFile"),labelVal=$label.html();$input.on("change",(function(element){var fileName="";element.target.value&&(fileName=element.target.value.split("\\").pop()),fileName?$label.addClass("has-file").find(".js-fileName").html(fileName):$label.removeClass("has-file").html(labelVal)}))}))}(),$((function(){scaleCaptcha(),$(window).resize($.throttle(100,scaleCaptcha))})),$(".Alphanumeric, label:contains('Social Security Number'), input[name='Social_Security_Number']").keyup((function(){this.value.match(/[^a-zA-Z0-9 ]/g)&&(this.value=this.value.replace(/[^a-zA-Z0-9 ]/g,""))})),$(".Alphanumeric, label:contains('Social Security Number'), input[name='Social_Security_Number']").focusout((function(){this.value=this.value.trim()})),$("#Phone, input[name='Phone'], input[name='Phone_Number'], input[name='Cell_Number'], input[name='Telephone'], input[name='Telephone_Number'], input[name='Fax_Number'], .numberinput, input[name='Contact_Number']").keypress((function(e){(8==e.which||null==e.which||0==e.which?null:String.fromCharCode(e.which).match(/[^0-9 -]/))&&e.preventDefault()})),$("label:contains('Phone Number'), label:contains('Cell Number'), label:contains('Cellphone Number'), label:contains('Telephone'), label:contains('Telephone Number'), label:contains('Fax Number'), label:contains('Fax'), label:contains('Cel'), label:contains('Contact Number')").each((function(){$(this).parent().next("div").find(":input").keypress((function(e){(8==e.which||null==e.which||0==e.which?null:String.fromCharCode(e.which).match(/[^0-9 -]/))&&e.preventDefault()}))})),$('#Phone, input[name="Phone_Number"]').keypress((function(){$(this).val().length>=12&&$(this).val($(this).val().slice(0,12))})),$("select").each((function(){""==$(this).val()?$(this).css({color:"#b1b1b1","font-style":"normal"}):$(this).css({color:"#5c5c5c","font-style":"normal"})})),$("select").change((function(){""==$(this).val()?$(this).css({color:"#b1b1b1","font-style":"normal"}):$(this).css({color:"#5c5c5c","font-style":"normal"})}))})),$("input:radio").click((function(){$("input:radio").each((function(){$(this).closest("td").toggleClass("highlight",$(this).is(":checked"))}))})),$("label:contains('Date of Birth'), label:contains('Birthdate'), label:contains('How soon can you start'), label:contains('Preferred Date'), label:contains('on what date can you start work')").each((function(){$(this).parent().next("div").find(":input").removeClass("Date").addClass("Date1")})),$("label:contains('Date of Birth'), label:contains('Birthdate')").each((function(){$(this).parent().next("div").find(":input").addClass("DisableFuture")})),$("label:contains('How soon can you start'), label:contains('Preferred Date'),  label:contains('on what date can you start work')").each((function(){$(this).parent().next("div").find(":input").addClass("DisablePast")})),$(".Date").datepicker({autoHide:!0,pick:function(e){e.preventDefault();e.date;var date=e.date.getDate(),new_date=$(this).datepicker("getMonthName")+" "+date+", "+e.date.getFullYear();$(this).val(new_date)}});var today=Date.now();function formatNumber(n){return n.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function formatCurrency(input,blur){var input_val=input.val();if(""!==input_val){var original_len=input_val.length,caret_pos=input.prop("selectionStart");if(input_val.indexOf(".")>=0){var decimal_pos=input_val.indexOf("."),left_side=input_val.substring(0,decimal_pos),right_side=input_val.substring(decimal_pos);left_side=formatNumber(left_side),right_side=formatNumber(right_side),"blur"===blur&&(right_side+="00"),input_val=left_side+"."+(right_side=right_side.substring(0,2))}else input_val=formatNumber(input_val),"blur"===blur&&(input_val+=".00");input.val(input_val),caret_pos=input_val.length-original_len+caret_pos,input[0].setSelectionRange(caret_pos,caret_pos)}}function adjustIframeHeight(){const iframe=parent.document.getElementById("myframe");if(iframe){let lastHeight=0;setInterval((()=>{const newHeight=iframe.contentWindow.document.body.scrollHeight;newHeight!==lastHeight&&(iframe.style.height=newHeight+100+"px",lastHeight=newHeight)}),300)}}$(".DisableFuture").datepicker({autoHide:!0,zIndex:2048,endDate:today,pick:function(e){e.preventDefault();e.date;var date=e.date.getDate(),new_date=$(this).datepicker("getMonthName")+" "+date+", "+e.date.getFullYear();$(this).val(new_date)}}),$(".DisablePast").datepicker({autoHide:!0,zIndex:2048,startDate:today,pick:function(e){e.preventDefault();e.date;var date=e.date.getDate(),new_date=$(this).datepicker("getMonthName")+" "+date+", "+e.date.getFullYear();$(this).val(new_date)}}),$("input[data-type='currency']").on({keyup:function(){formatCurrency($(this))},blur:function(){formatCurrency($(this),"blur")}}),$((function(){$('input[name="First_Name"], input[name="Last_Name"], input[name="Name"], input[name="Full_Name"]').keydown((function(e){var key=e.keyCode;8==key||32==key||46==key||key>=35&&key<=40||key>=65&&key<=90||e.preventDefault()}))})),adjustIframeHeight(),window.addEventListener("resize",adjustIframeHeight);